var that=this;function __skpm_run(key,context){that.context=context;var exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/puller.js")}({"./node_modules/@skpm/timers/immediate.js":
/*!************************************************!*\
  !*** ./node_modules/@skpm/timers/immediate.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){var o=n(/*! ./timeout */"./node_modules/@skpm/timers/timeout.js");e.exports={setImmediate:function(e,t,n,r,i,a,c,s,l,u,d){return o.setTimeout(e,0,t,n,r,i,a,c,s,l,u,d)},clearImmediate:function(e){return o.clearTimeout(e)}}},"./node_modules/@skpm/timers/test-if-fiber.js":
/*!****************************************************!*\
  !*** ./node_modules/@skpm/timers/test-if-fiber.js ***!
  \****************************************************/
/*! no static exports found */function(e,t){e.exports=function(){return"undefined"!=typeof coscript&&coscript.createFiber}},"./node_modules/@skpm/timers/timeout.js":
/*!**********************************************!*\
  !*** ./node_modules/@skpm/timers/timeout.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,n){var o,r,i=[];if(n(/*! ./test-if-fiber */"./node_modules/@skpm/timers/test-if-fiber.js")()){i=[];o=function(e,t,n,o,r,a,c,s,l,u,d,f){var h=i.length;return i.push(coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){e(n,o,r,a,c,s,l,u,d,f)})),h},r=function(e){var t=i[e];t&&(t.cancel(),i[e]=void 0)}}else o=function(e,t,n,o,a,c,s,l,u,d,f,h){coscript.shouldKeepAround=!0;var p=i.length;return i.push(!0),coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){i[p]&&e(n,o,a,c,s,l,u,d,f,h),r(p),i.every(function(e){return!e})&&(coscript.shouldKeepAround=!1)}),p},r=function(e){i[e]=!1};e.exports={setTimeout:o,clearTimeout:r}},"./node_modules/cocoascript-class/lib/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/cocoascript-class/lib/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuperCall=void 0,t.default=function(e){const t=e.superclass||NSObject,n=(e.className||e.classname||"ObjCClass")+NSUUID.UUID().UUIDString(),i=new Set(["className","classname","superclass"]);var a=MOClassDescription.allocateDescriptionForClassWithName_superclass_(n,t);const c=[];for(var s in e){const t=e[s];if("function"==typeof t&&"init"!==s){var l=NSSelectorFromString(s);a.addInstanceMethodWithSelector_function_(l,t)}else i.has(s)||(c.push(s),a.addInstanceVariableWithName_typeEncoding(s,"@"))}return a.addInstanceMethodWithSelector_function_(NSSelectorFromString("init"),function(){const t=r.call(this);return c.map(n=>{Object.defineProperty(t,n,{get:()=>(function(e,t){const n=MOPointer.new();return(0,o.object_getInstanceVariable)(e,t,n),n.value().retain().autorelease()})(t,n),set(e){(0,o.object_setInstanceVariable)(t,n,e)}}),t[n]=e[n]}),"function"==typeof e.init&&e.init.call(this),t}),a.registerClass()};var o=n(/*! ./runtime.js */"./node_modules/cocoascript-class/lib/runtime.js");t.SuperCall=o.SuperCall;const r=(0,o.SuperCall)(NSStringFromSelector("init"),[],{type:"@"})},"./node_modules/cocoascript-class/lib/runtime.js":
/*!*******************************************************!*\
  !*** ./node_modules/cocoascript-class/lib/runtime.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuperCall=function(e,t,n){const r=i("objc_msgSendSuper",[{type:"^"+o},{type:":"},...t],n);return function(...t){const n=function(e,t){return function e(t){if("object"!=typeof t||0==Object.keys(t).length)return t;const n=Object.keys(t)[0];const o=t[n];const r=MOStruct.structureWithName_memberNames_runtime(n,Object.keys(o),Mocha.sharedRuntime());Object.keys(o).map(t=>{r[t]=e(o[t])});return r}({objc_super:{receiver:e,super_class:t}})}(this,this.superclass()),o=MOPointer.alloc().initWithValue_(n);return r(o,e,...t)}},t.CFunc=i;const o='{objc_super="receiver"@"super_class"#}';function r(e,t){const n=NSMutableDictionary.dictionary();n.o=e,Object.keys(t).map(e=>n.setValue_forKeyPath(t[e],"o."+e))}function i(e,t,n){function o(e){if(!e)return null;const t=MOBridgeSupportArgument.alloc().init();return r(t,{type64:e.type}),t}const i=MOBridgeSupportFunction.alloc().init();return r(i,{name:e,arguments:t.map(o),returnValue:o(n)}),i}t.object_getInstanceVariable=i("object_getInstanceVariable",[{type:"@"},{type:"*"},{type:"^@"}],{type:"^{objc_ivar=}"}),t.object_setInstanceVariable=i("object_setInstanceVariable",[{type:"@"},{type:"*"},{type:"@"}],{type:"^{objc_ivar=}"});!function(e,t){const n=MOBridgeSupportController.sharedController().valueForKey("symbols");if(!n)throw Error("Something has changed within bridge support so we can't add our definitions");if(null!==n[e])return;const o=MOBridgeSupportStruct.alloc().init();r(o,{name:e,type:t.type}),n[e]=o}("objc_super",{type:o})},"./node_modules/js-base64/base64.js":
/*!******************************************!*\
  !*** ./node_modules/js-base64/base64.js ***!
  \******************************************/
/*! no static exports found */function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(global,factory){module.exports=function(global){"use strict";var _Base64=global.Base64,version="2.5.0",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,o=e.length;n<o;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),o=[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)];return o.join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return fromCharCode(55296+(n>>>10))+fromCharCode(56320+(1023&n));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,o=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),r=[fromCharCode(o>>>16),fromCharCode(o>>>8&255),fromCharCode(255&o)];return r.length-=[0,0,2,1][n],r.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}global.Meteor&&(Base64=global.Base64);module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));return{Base64:global.Base64}}(global)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this)}).call(this,__webpack_require__(/*! ./../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/promise-polyfill/lib/index.js":
/*!****************************************************!*\
  !*** ./node_modules/promise-polyfill/lib/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(t,n){var o=t;function r(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(e){return void s(t.promise,e)}c(t.promise,o)}else(1===e._state?c:s)(t.promise,e._value)})):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void u(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,l(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function u(e,t){var n=!1;try{e(function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},i.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},i.all=function(e){return new i(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var r=o.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,function(t){i(e,t)},n)}o[e]=a,0==--r&&t(o)}catch(e){n(e)}}for(var a=0;a<o.length;a++)i(a,o[a])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var o=0,r=e.length;o<r;o++)e[o].then(t,n)})},i._immediateFn="function"==typeof n&&function(e){n(e)}||function(e){o(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=i}).call(this,n(/*! ./node_modules/@skpm/timers/timeout.js */"./node_modules/@skpm/timers/timeout.js").setTimeout,n(/*! ./node_modules/@skpm/timers/immediate.js */"./node_modules/@skpm/timers/immediate.js").setImmediate)},"./node_modules/sketch-polyfill-fetch/lib/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/sketch-polyfill-fetch/lib/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){(function(t){var o,r,i=n(/*! cocoascript-class */"./node_modules/cocoascript-class/lib/index.js").default;try{o=n(/*! buffer */"buffer").Buffer}catch(e){}e.exports=function(e,n){var a;n=n||{};try{a=coscript.createFiber()}catch(e){coscript.shouldKeepAround=!0}return new t(function(c,s){var l=NSURL.alloc().initWithString(e),u=NSMutableURLRequest.requestWithURL(l);if(u.setHTTPMethod(n.method||"GET"),Object.keys(n.headers||{}).forEach(function(e){u.setValue_forHTTPHeaderField(n.headers[e],e)}),n.body){var d;if("string"==typeof n.body)d=NSString.alloc().initWithString(n.body).dataUsingEncoding(NSUTF8StringEncoding);else if(o&&o.isBuffer(n.body))d=n.body.toNSData();else if(n.body.isKindOfClass&&1==n.body.isKindOfClass(NSData))d=n.body;else if(n.body._isFormData){var f=n.body._boundary;(d=n.body._data).appendData(NSString.alloc().initWithString("--"+f+"--\r\n").dataUsingEncoding(NSUTF8StringEncoding)),u.setValue_forHTTPHeaderField("multipart/form-data; boundary="+f,"Content-Type")}else d=NSJSONSerialization.dataWithJSONObject_options_error(n.body,NSJSONWritingPrettyPrinted,void 0),u.setValue_forHTTPHeaderField(""+d.length(),"Content-Length");u.setHTTPBody(d)}if(n.cache)switch(n.cache){case"reload":case"no-cache":case"no-store":u.setCachePolicy(1);case"force-cache":u.setCachePolicy(2);case"only-if-cached":u.setCachePolicy(3)}n.credentials||u.setHTTPShouldHandleCookies(!1),r||(r=i({classname:"FetchPolyfillDelegate",data:null,httpResponse:null,fiber:null,callbacks:null,"connectionDidFinishLoading:":function(e){this.callbacks.succeed(this.httpResponse,this.data),this.fiber?this.fiber.cleanup():coscript.shouldKeepAround=!1},"connection:didReceiveResponse:":function(e,t){this.httpResponse=t,this.data=NSMutableData.alloc().init()},"connection:didFailWithError:":function(e,t){this.callbacks.fail(t),this.fiber?this.fiber.cleanup():coscript.shouldKeepAround=!1},"connection:didReceiveData:":function(e,t){this.data.appendData(t)}}));var h=!1,p=r.new();p.callbacks=NSDictionary.dictionaryWithDictionary({succeed:function(e,n){h=!0,c(function e(n,r){for(var i,a=[],c=[],s={},l=0;l<n.allHeaderFields().allKeys().length;l++){var u=n.allHeaderFields().allKeys()[l].toLowerCase(),d=String(n.allHeaderFields()[u]);a.push(u),c.push([u,d]),i=s[u],s[u]=i?i+","+d:d}return{ok:1==(n.statusCode()/200|0),status:Number(n.statusCode()),statusText:NSHTTPURLResponse.localizedStringForStatusCode(n.statusCode()),useFinalURL:!0,url:String(n.URL().absoluteString()),clone:e.bind(this,n,r),text:function(){return new t(function(e,t){const n=NSString.alloc().initWithData_encoding(r,NSASCIIStringEncoding);n?e(n):t(new Error("Couldn't parse body"))})},json:function(){return new t(function(e,t){var n=NSString.alloc().initWithData_encoding(r,NSUTF8StringEncoding);n?e(JSON.parse(n)):t(new Error("Could not parse JSON because it is not valid UTF-8 data."))})},blob:function(){return t.resolve(r)},arrayBuffer:function(){return t.resolve(o.from(r))},headers:{keys:function(){return a},entries:function(){return c},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}}(e,n))},fail:function(e){h=!0,s(e)}}),p.fiber=a;var g=NSURLConnection.alloc().initWithRequest_delegate(u,p);a&&a.onCleanup(function(){h||g.cancel()})})}}).call(this,n(/*! ./node_modules/promise-polyfill/lib/index.js */"./node_modules/promise-polyfill/lib/index.js"))},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./src/github_requests.js":
/*!********************************!*\
  !*** ./src/github_requests.js ***!
  \********************************/
/*! exports provided: get_file */function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"get_file",function(){return i});var o=n(/*! js-base64 */"./node_modules/js-base64/base64.js").Base64,r=n(/*! sketch/settings */"sketch/settings");function i(t,n,i,a,c){console.log("fetching https://api.github.com/repos/".concat(t,"/").concat(n,"/contents/").concat(i)),e("https://api.github.com/repos/".concat(t,"/").concat(n,"/contents/").concat(i),{method:"GET",headers:{Authorization:"Basic "+o.encode(r.settingForKey("git-username")+":"+r.settingForKey("git-password")),Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return console.log(e),e.json()}).then(function(e){console.log("result: "+e),a(JSON.parse(o.decode(e.content)))}).catch(function(e){return c("There was a problem with ".concat(t,"/").concat(n,"/").concat(i,".\nDo you have access to it? Are your credentials correct?"))})}}.call(this,n(/*! ./node_modules/sketch-polyfill-fetch/lib/index.js */"./node_modules/sketch-polyfill-fetch/lib/index.js"))},"./src/miss_modal.js":
/*!***************************!*\
  !*** ./src/miss_modal.js ***!
  \***************************/
/*! exports provided: handle_misses */function(e,t,n){"use strict";n.r(t),n.d(t,"handle_misses",function(){return a});var o=n(/*! sketch */"sketch"),r=n.n(o),i=n(/*! ./puller */"./src/puller.js");function a(e,t){console.log("#############         Misses        ######################"),console.log(t[1]),console.log("#############         creating missing modal      ######################");var n,o,a=r.a.getSelectedDocument(),c=NSThread.mainThread().threadDictionary(),s="com.belowZero.floating_misses_modal",l="com.belowZero.scrollView";if(c[s])console.log("Panel exists already"),n=c[s],o=c[l];else{console.log("creating new Panel"),(n=NSPanel.alloc().init()).setFrame_display(NSMakeRect(0,0,200,240),!0),n.setStyleMask(NSTexturedBackgroundWindowMask|NSTitledWindowMask|NSClosableWindowMask|NSFullSizeContentViewWindowMask),c[s]=n,COScript.currentCOScript().setShouldKeepAround_(!0),n.standardWindowButton(NSWindowMiniaturizeButton).setHidden(!0),n.standardWindowButton(NSWindowZoomButton).setHidden(!0);var u=NSVisualEffectView.alloc().initWithFrame(NSMakeRect(0,0,200,240));u.setAppearance(NSAppearance.appearanceNamed(NSAppearanceNameVibrantLight)),u.setBlendingMode(NSVisualEffectBlendingModeBehindWindow),n.contentView().addSubview(u),n.standardWindowButton(NSWindowCloseButton).setCOSJSTargetFunction(function(e){n.close(),c.removeObjectForKey(s),c.removeObjectForKey(l),COScript.currentCOScript().setShouldKeepAround_(!1)});var d=NSButton.alloc().initWithFrame(NSMakeRect(70,15,80,25));d.setTitle("pull"),d.setBezelStyle(NSRoundedBezelStyle),d.setKeyEquivalent("\r"),d.setCOSJSTargetFunction(function(t){Object(i.main)(e)}),n.contentView().addSubview(d);var f=NSScrollView.alloc().initWithFrame(NSMakeRect(10,40,180,150));f.setBorderType(NSNoBorder),f.setHasVerticalScroller(!0),f.setHasHorizontalScroller(!1),n.contentView().addSubview(f),o=NSView.alloc().initWithFrame(NSMakeRect(0,0,180,200)),f.setDocumentView(o),c[l]=o}for(var h=o.subviews();h.length>0;)h[0].removeFromSuperview();o.setFrameSize(NSMakeSize(180,30*t[0].length));for(var p=function(e){(b=NSButton.alloc().initWithFrame(NSMakeRect(0,30*e,20,20))).setTitle(t[1][e]),b.setBezelStyle(NSRoundedBezelStyle),b.sizeToFit(),b.setCOSJSTargetFunction(function(n){a.centerOnLayer(t[0][e].sketchObject)}),o.addSubview(b)},g=0;g<t[0].length;g++){var b;p(g)}n.title="Missing Strings "+t[0].length,n.center(),n.makeKeyAndOrderFront(null),n.setLevel(NSFloatingWindowLevel)}},"./src/puller.js":
/*!***********************!*\
  !*** ./src/puller.js ***!
  \***********************/
/*! exports provided: default, main */function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"main",function(){return f});var o=n(/*! sketch */"sketch"),r=n.n(o),i=n(/*! ./settings */"./src/settings.js"),a=n(/*! ./github_requests */"./src/github_requests.js"),c=n(/*! ./miss_modal */"./src/miss_modal.js");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(/*! sketch/settings */"sketch/settings"),u=function(e,t){var n=COSAlertWindow.new();n.setIcon(NSImage.alloc().initByReferencingFile(e.plugin.urlForResourceNamed("icon.png").path())),n.setMessageText("Process"),n.addButtonWithTitle("selection"),n.addButtonWithTitle("selected page"),n.addButtonWithTitle("the whole document"),n.addButtonWithTitle("cancel");var o=NSView.alloc().initWithFrame(NSMakeRect(0,0,300,140)),r=NSButtonCell.alloc().init();r.setButtonType(NSRadioButton);var i=NSMatrix.alloc().initWithFrame_mode_prototype_numberOfRows_numberOfColumns(NSMakeRect(0,20,400,50),NSRadioModeMatrix,r,1,t.length);i.setCellSize(CGSizeMake(100,25));var a=i.cells();for(var c in t)a.objectAtIndex(c).setTitle(t[c]);o.addSubview(i),n.addAccessoryView(o);var s=n.runModal(),l=t[i.cells().indexOfObject(i.selectedCell())];return console.log("Modal res: button clicked = ".concat(s,", langauge = ").concat(l)),[s,l]},d=function e(t,n){var o,i,a=[],c=[];for(var s in t)if(o=t[s],console.log("    Processing: ".concat(o.name)),console.log(" Which is a text: ".concat(o.sketchObject.class()==MSTextLayer,", group: ").concat(o instanceof r.a.Group,", symbolinstance: ").concat(o instanceof r.a.SymbolInstance)),o instanceof r.a.Text&&o.name.startsWith("$"))i=o.name.substr(1),console.log("## checking string existance for ".concat(i," ")),n.hasOwnProperty(i)?(console.log("value: ".concat(n[i]," ")),o.sketchObject.setStringValue(h(n[i]))):(console.log("#### ".concat(i,"'s value is missing")),a.push(o),c.push(i));else if(o instanceof r.a.SymbolInstance&&o.name.startsWith("$")){var l;for(var s in o.overrides)l=o.overrides[s],console.log("Override (property: ".concat(l.property,", value: ").concat(l.value," propertyName: ").concat(l.affectedLayer.name,")")),"stringValue"==l.property&&l.affectedLayer.name.startsWith("$")&&(i=o.name.substr(1)+"_"+l.affectedLayer.name.substr(1),console.log("## checking string existance for ".concat(i," ")),n.hasOwnProperty(i)?(console.log("it's value is ".concat(n[i]," ")),o.setOverrideValue(l,h(n[i]))):(console.log("#### ".concat(i,"'s value is missing")),a.push(o),c.push(i)))}else if(o instanceof r.a.Group){var u=e(o.layers,n);a=a.concat(u[0]),c=c.concat(u[1])}return[a,c]};function f(t){console.log("################################################################################"),console.log("#############            Start                           #######################"),console.log("################################################################################");var n=r.a.getSelectedDocument();Object(i.check_settings_exist)(t);var o=l.settingForKey("files")||[];0==o.length&&(Object(i.check_settings_are_right)(t,"There are no files specified"),o=l.settingForKey("files")||[]),console.log("#############         retrieving files      ######################"),console.log(o),e.all(o.map(function(t,n,o){return console.log(t),new e(function(e,n){Object(a.get_file)(t[0],t[1],t[2],function(n){console.log("#### ".concat(t," content ####")),console.log(n),e(n)},function(e){n(e)})})})).then(function(e){var o={};e.forEach(function(e,t,n){o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){s(e,t,n[t])})}return e}({},o,e)}),console.log("#############           Languages            #######################"),console.log(Object.keys(o));var r=u(t,Object.keys(o)),i=[];switch(r[0]){case 1e3:i=n.selectedLayers.layers;break;case 1001:i=n.selectedPage.layers;break;case 1002:var a;for(var l in n.pages)a=n.pages[l],i=i.concat(a.layers)}if(console.log("".concat(i.length," top layers")),i.length>0){console.log("Now processing the layer");var f=d(i,o[r[1]]);Object(c.handle_misses)(t,f)}else console.log("No layers to process")}).catch(function(e){return Object(i.check_settings_are_right)(t,e)})}function h(e){return new RegExp("t/<[a-z][sS]*>/i").test(e),e}t.default=function(e){f(e)}}.call(this,n(/*! ./node_modules/promise-polyfill/lib/index.js */"./node_modules/promise-polyfill/lib/index.js"))},"./src/settings.js":
/*!*************************!*\
  !*** ./src/settings.js ***!
  \*************************/
/*! exports provided: check_settings_are_right, set_settings, check_settings_exist, default */function(e,t,n){"use strict";n.r(t),n.d(t,"check_settings_are_right",function(){return s}),n.d(t,"set_settings",function(){return l}),n.d(t,"check_settings_exist",function(){return u});var o=n(/*! sketch/settings */"sketch/settings"),r=function e(t){var n=COSAlertWindow.new();switch(n.setIcon(NSImage.alloc().initByReferencingFile(t.plugin.urlForResourceNamed("icon.png").path())),n.setMessageText("Configure Pull Strings git access and files"),n.addButtonWithTitle("done"),n.addButtonWithTitle("username/password"),n.addButtonWithTitle("remove files"),n.addButtonWithTitle("add file"),n.runModal()){case 1e3:break;case 1001:i(t),e(t);break;case 1002:c(t),e(t);break;case 1003:a(t),e(t)}},i=function(e){var t=COSAlertWindow.new();t.setIcon(NSImage.alloc().initByReferencingFile(e.plugin.urlForResourceNamed("icon.png").path())),t.setMessageText("Configure Git Access"),t.addButtonWithTitle("save"),t.addButtonWithTitle("cancel");var n=NSView.alloc().initWithFrame(NSMakeRect(0,0,400,140));t.addAccessoryView(n);var r=NSTextField.alloc().initWithFrame(NSMakeRect(-1,75,190,20));r.setStringValue("username"),r.setSelectable(!1),r.setEditable(!1),r.setBezeled(!1),r.setDrawsBackground(!1);var i=NSTextField.alloc().initWithFrame(NSMakeRect(140,75,190,20));i.setStringValue("password"),i.setSelectable(!1),i.setEditable(!1),i.setBezeled(!1),i.setDrawsBackground(!1);var a=NSTextField.alloc().initWithFrame(NSMakeRect(0,55,130,20)),c=NSSecureTextField.alloc().initWithFrame(NSMakeRect(140,55,130,20));a.setNextKeyView_(c),n.addSubview(a),n.addSubview(r),n.addSubview(c),n.addSubview(i),1e3==t.runModal()&&(o.setSettingForKey("git-username",a.stringValue()),o.setSettingForKey("git-password",c.stringValue()+""),o.setSettingForKey("settings-exist",!0))},a=function(e){var t=NSWindow.alloc().init();t.setTitle("Add file");var n=t.contentView();t.setFrame_display(NSMakeRect(0,155,400,240),!1);var r=NSImage.alloc().initByReferencingFile(e.plugin.urlForResourceNamed("icon.png").path()),i=NSImageView.alloc().initWithFrame(NSMakeRect(10,140,60,60));i.setImage(r),n.addSubview(i);var a=NSTextField.alloc().initWithFrame(NSMakeRect(90,175,190,20));a.setStringValue("file owner"),a.setSelectable(!1),a.setEditable(!1),a.setBezeled(!1),a.setDrawsBackground(!1);var c=NSTextField.alloc().initWithFrame(NSMakeRect(90,155,130,20)),s=NSTextField.alloc().initWithFrame(NSMakeRect(230,175,190,20));s.setStringValue("repository"),s.setSelectable(!1),s.setEditable(!1),s.setBezeled(!1),s.setDrawsBackground(!1);var l=NSTextField.alloc().initWithFrame(NSMakeRect(230,155,130,20)),u=NSTextField.alloc().initWithFrame(NSMakeRect(90,135,190,20));u.setStringValue("path"),u.setSelectable(!1),u.setEditable(!1),u.setBezeled(!1),u.setDrawsBackground(!1);var d=NSTextField.alloc().initWithFrame(NSMakeRect(90,110,270,20)),f=NSTextField.alloc().initWithFrame(NSMakeRect(20,60,360,40));f.setStringValue("When you visit the file on github.com the URL looks like this https://github.com/{owner}/{repo}/blob/master/{path}"),f.setSelectable(!1),f.setEditable(!1),f.setBezeled(!1),f.setDrawsBackground(!1),n.addSubview(f),c.setNextKeyView_(l),l.setNextKeyView(d),n.addSubview(f),n.addSubview(c),n.addSubview(a),n.addSubview(l),n.addSubview(s),n.addSubview(d),n.addSubview(u);var h=0,p=NSButton.alloc().initWithFrame(NSMakeRect(290,20,80,25));p.setTitle("save"),p.setBezelStyle(NSRoundedBezelStyle),p.setKeyEquivalent("\r"),p.setCOSJSTargetFunction(function(e){h=1e3,t.orderOut(null),NSApp.stopModal()}),n.addSubview(p);var g=NSButton.alloc().initWithFrame(NSMakeRect(180,20,80,25));if(g.setTitle("cancel"),g.setBezelStyle(NSRoundedBezelStyle),g.setKeyEquivalent("\b"),g.setCOSJSTargetFunction(function(e){h=1001,t.orderOut(null),NSApp.stopModal()}),n.addSubview(g),NSApp.runModalForWindow(t),1e3==h){console.log("###### Adding File ######"),console.log("".concat(c.stringValue(),":").concat(l.stringValue(),":").concat(d.stringValue()));var b=o.settingForKey("files")||[];b.push([c.stringValue(),l.stringValue(),d.stringValue()]),o.setSettingForKey("files",b)}t=null,p=null,g=null},c=function(e){var t=COSAlertWindow.new();t.setIcon(NSImage.alloc().initByReferencingFile(e.plugin.urlForResourceNamed("icon.png").path())),t.setMessageText("Chose files to keep"),t.addButtonWithTitle("save"),t.addButtonWithTitle("cancel");var n=o.settingForKey("files")||[],r=30+30*n.length,i=NSView.alloc().initWithFrame(NSMakeRect(0,0,300,r));t.addAccessoryView(i);for(var a,c,s=n.length,l=[],u=0;u<s;u++)a=n[u],(c=NSButton.alloc().initWithFrame(NSMakeRect(0,r-38-20*u,300,20))).setButtonType(NSSwitchButton),c.setBezelStyle(0),c.setTitle("owner:".concat(a[0],", repo:").concat(a[1],", path:").concat(a[2])),c.setState(NSOnState),l.push(c),i.addSubview(c);if(1e3==t.runModal()){var d=[];console.log("###### keeping Files ######");for(u=0;u<s;u++)1==l[u].stringValue()&&d.push(n[u]);console.log(d),o.setSettingForKey("files",d)}};function s(e,t){var n=COSAlertWindow.new();n.setIcon(NSImage.alloc().initByReferencingFile(e.plugin.urlForResourceNamed("icon.png").path())),n.setMessageText(t),n.addButtonWithTitle("ok"),n.addButtonWithTitle("settings"),1001==n.runModal()&&l(e)}function l(e){return o.settingForKey("git-username")||i(e),r(e),!0}function u(e){return!!o.settingForKey("settings-exist")||l(e)}t.default=function(e){l(e)}},buffer:
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("buffer")},sketch:
/*!*************************!*\
  !*** external "sketch" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("sketch")},"sketch/settings":
/*!**********************************!*\
  !*** external "sketch/settings" ***!
  \**********************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/settings")}});"default"===key&&"function"==typeof exports?exports(context):exports[key](context)}that.onRun=__skpm_run.bind(this,"default");