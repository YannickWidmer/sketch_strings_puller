var that=this;function __skpm_run(key,context){that.context=context;var exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/puller.js")}({"./node_modules/@skpm/timers/immediate.js":
/*!************************************************!*\
  !*** ./node_modules/@skpm/timers/immediate.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){var o=n(/*! ./timeout */"./node_modules/@skpm/timers/timeout.js");e.exports={setImmediate:function(e,t,n,i,r,a,s,c,l,u,d){return o.setTimeout(e,0,t,n,i,r,a,s,c,l,u,d)},clearImmediate:function(e){return o.clearTimeout(e)}}},"./node_modules/@skpm/timers/test-if-fiber.js":
/*!****************************************************!*\
  !*** ./node_modules/@skpm/timers/test-if-fiber.js ***!
  \****************************************************/
/*! no static exports found */function(e,t){e.exports=function(){return"undefined"!=typeof coscript&&coscript.createFiber}},"./node_modules/@skpm/timers/timeout.js":
/*!**********************************************!*\
  !*** ./node_modules/@skpm/timers/timeout.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,n){var o,i,r=[];if(n(/*! ./test-if-fiber */"./node_modules/@skpm/timers/test-if-fiber.js")()){r=[];o=function(e,t,n,o,i,a,s,c,l,u,d,f){var h=r.length;return r.push(coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){e(n,o,i,a,s,c,l,u,d,f)})),h},i=function(e){var t=r[e];t&&(t.cancel(),r[e]=void 0)}}else o=function(e,t,n,o,a,s,c,l,u,d,f,h){coscript.shouldKeepAround=!0;var m=r.length;return r.push(!0),coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){r[m]&&e(n,o,a,s,c,l,u,d,f,h),i(m),r.every(function(e){return!e})&&(coscript.shouldKeepAround=!1)}),m},i=function(e){r[e]=!1};e.exports={setTimeout:o,clearTimeout:i}},"./node_modules/cocoascript-class/lib/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/cocoascript-class/lib/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuperCall=void 0,t.default=function(e){const t=e.superclass||NSObject,n=(e.className||e.classname||"ObjCClass")+NSUUID.UUID().UUIDString(),r=new Set(["className","classname","superclass"]);var a=MOClassDescription.allocateDescriptionForClassWithName_superclass_(n,t);const s=[];for(var c in e){const t=e[c];if("function"==typeof t&&"init"!==c){var l=NSSelectorFromString(c);a.addInstanceMethodWithSelector_function_(l,t)}else r.has(c)||(s.push(c),a.addInstanceVariableWithName_typeEncoding(c,"@"))}return a.addInstanceMethodWithSelector_function_(NSSelectorFromString("init"),function(){const t=i.call(this);return s.map(n=>{Object.defineProperty(t,n,{get:()=>(function(e,t){const n=MOPointer.new();return(0,o.object_getInstanceVariable)(e,t,n),n.value().retain().autorelease()})(t,n),set(e){(0,o.object_setInstanceVariable)(t,n,e)}}),t[n]=e[n]}),"function"==typeof e.init&&e.init.call(this),t}),a.registerClass()};var o=n(/*! ./runtime.js */"./node_modules/cocoascript-class/lib/runtime.js");t.SuperCall=o.SuperCall;const i=(0,o.SuperCall)(NSStringFromSelector("init"),[],{type:"@"})},"./node_modules/cocoascript-class/lib/runtime.js":
/*!*******************************************************!*\
  !*** ./node_modules/cocoascript-class/lib/runtime.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuperCall=function(e,t,n){const i=r("objc_msgSendSuper",[{type:"^"+o},{type:":"},...t],n);return function(...t){const n=function(e,t){return function e(t){if("object"!=typeof t||0==Object.keys(t).length)return t;const n=Object.keys(t)[0];const o=t[n];const i=MOStruct.structureWithName_memberNames_runtime(n,Object.keys(o),Mocha.sharedRuntime());Object.keys(o).map(t=>{i[t]=e(o[t])});return i}({objc_super:{receiver:e,super_class:t}})}(this,this.superclass()),o=MOPointer.alloc().initWithValue_(n);return i(o,e,...t)}},t.CFunc=r;const o='{objc_super="receiver"@"super_class"#}';function i(e,t){const n=NSMutableDictionary.dictionary();n.o=e,Object.keys(t).map(e=>n.setValue_forKeyPath(t[e],"o."+e))}function r(e,t,n){function o(e){if(!e)return null;const t=MOBridgeSupportArgument.alloc().init();return i(t,{type64:e.type}),t}const r=MOBridgeSupportFunction.alloc().init();return i(r,{name:e,arguments:t.map(o),returnValue:o(n)}),r}t.object_getInstanceVariable=r("object_getInstanceVariable",[{type:"@"},{type:"*"},{type:"^@"}],{type:"^{objc_ivar=}"}),t.object_setInstanceVariable=r("object_setInstanceVariable",[{type:"@"},{type:"*"},{type:"@"}],{type:"^{objc_ivar=}"});!function(e,t){const n=MOBridgeSupportController.sharedController().valueForKey("symbols");if(!n)throw Error("Something has changed within bridge support so we can't add our definitions");if(null!==n[e])return;const o=MOBridgeSupportStruct.alloc().init();i(o,{name:e,type:t.type}),n[e]=o}("objc_super",{type:o})},"./node_modules/js-base64/base64.js":
/*!******************************************!*\
  !*** ./node_modules/js-base64/base64.js ***!
  \******************************************/
/*! no static exports found */function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(global,factory){module.exports=function(global){"use strict";var _Base64=global.Base64,version="2.5.0",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,o=e.length;n<o;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),o=[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)];return o.join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return fromCharCode(55296+(n>>>10))+fromCharCode(56320+(1023&n));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,o=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),i=[fromCharCode(o>>>16),fromCharCode(o>>>8&255),fromCharCode(255&o)];return i.length-=[0,0,2,1][n],i.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}global.Meteor&&(Base64=global.Base64);module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));return{Base64:global.Base64}}(global)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this)}).call(this,__webpack_require__(/*! ./../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/promise-polyfill/lib/index.js":
/*!****************************************************!*\
  !*** ./node_modules/promise-polyfill/lib/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(t,n){var o=t;function i(){}function r(e){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(e){return void c(t.promise,e)}s(t.promise,o)}else(1===e._state?s:c)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void u(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,l(e)}catch(t){c(e,t)}}function c(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function u(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=new this.constructor(i);return a(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},r.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},r.all=function(e){return new r(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var i=o.length;function r(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){r(e,t)},n)}o[e]=a,0==--i&&t(o)}catch(e){n(e)}}for(var a=0;a<o.length;a++)r(a,o[a])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){for(var o=0,i=e.length;o<i;o++)e[o].then(t,n)})},r._immediateFn="function"==typeof n&&function(e){n(e)}||function(e){o(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=r}).call(this,n(/*! ./node_modules/@skpm/timers/timeout.js */"./node_modules/@skpm/timers/timeout.js").setTimeout,n(/*! ./node_modules/@skpm/timers/immediate.js */"./node_modules/@skpm/timers/immediate.js").setImmediate)},"./node_modules/sketch-module-web-view/lib/browser-api.js":
/*!****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/browser-api.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t){var n=["NSColor","NSCachedWhiteColor","NSColorSpaceColor","NSDynamicSystemColor","NSCachedColorSpaceColor"];e.exports=function(e,t,o){function i(n){e.isVisible()||(n?(NSApplication.sharedApplication().activateIgnoringOtherApps(!0),t.makeKeyAndOrderFront(null)):t.orderBack(null))}e._panel=t,e._webview=o,e._destroyed=!1,e.destroy=function(){return t.close()},e.close=function(){if(t.delegate().utils.parentWindow){var n=!0;return e.emit("close",{get defaultPrevented(){return!n},preventDefault:function(){n=!1}}),void(n&&t.delegate().utils.parentWindow.endSheet(t))}e.isClosable()&&t.performClose(null)},e.focus=i.bind(this,!0),e.blur=i.bind(this,!1),e.isFocused=function(){return t.isKeyWindow()},e.isDestroyed=function(){return e._destroyed},e.show=function(){return NSApp.activateIgnoringOtherApps(!0),t.delegate().utils.parentWindow?t.delegate().utils.parentWindow.beginSheet_completionHandler(t,__mocha__.createBlock_function("v16@?0q8",function(){e.emit("closed")})):t.makeKeyAndOrderFront(null)},e.showInactive=function(){return t.orderFrontRegardless()},e.hide=function(){return t.orderOut(null)},e.isVisible=function(){return t.isVisible()},e.isModal=function(){return!1},e.maximize=function(){e.isMaximized()||t.zoom(null)},e.unmaximize=function(){e.isMaximized()&&t.zoom(null)},e.isMaximized=function(){if(0!=(t.styleMask()&NSResizableWindowMask))return t.isZoomed();var e=NSScreen.mainScreen().visibleFrame(),n=t.frame();return e.origin.x==n.origin.x&&e.origin.y==n.origin.y&&e.size.width==n.size.width&&e.size.height==n.size.height},e.minimize=function(){return t.miniaturize(null)},e.restore=function(){return t.deminiaturize(null)},e.isMinimized=function(){return t.isMiniaturized()},e.setFullScreen=function(n){n!==e.isFullscreen()&&t.toggleFullScreen(null)},e.isFullscreen=function(){return t.styleMask()&NSFullScreenWindowMask},e.setAspectRatio=function(e){e>0?t.setAspectRatio(NSMakeSize(e,1)):t.setResizeIncrements(NSMakeSize(1,1))},e.setBounds=function(n,o){if(!e.isFullscreen()){var i=n.size,r=NSMakeRect(n.origin.x,0,i.width,i.height),a=NSScreen.screens().firstObject();r.origin.y=NSHeight(a.frame())-i.height-n.origin.y,t.setFrame_display_animate(r,!0,o)}},e.getBounds=function(){return t.frame()},e.setContentBounds=function(){},e.getContentBounds=function(){},e.setSize=function(t,n,o){var i=e.getBounds();return i.size.height=n,i.size.width=t,e.setBounds(i,o)},e.getSize=function(){var t=e.getBounds();return[t.size.width,t.size.height]},e.setContentSize=function(t,n,o){var i=e.getContentBounds();return i.size.height=n,i.size.width=t,e.setContentBounds(i,o)},e.getContentSize=function(){var t=e.getContentBounds();return[t.size.width,t.size.height]},e.setMinimumSize=function(e,n){const o={width:e,height:n};t.setContentMinSize(o)},e.getMinimumSize=function(){const e=t.contentMinSize();return[e.width,e.height]},e.setMaximumSize=function(e,n){const o={width:e,height:n};t.setContentMaxSize(o)},e.getMaximumSize=function(){const e=t.contentMaxSize();return[e.width,e.height]},e.setResizable=function(t){return e._setStyleMask(t,NSResizableWindowMask)},e.isResizable=function(){return t.styleMask()&NSResizableWindowMask},e.setMovable=function(e){return t.setMovable(e)},e.isMovable=function(){return t.isMovable()},e.setMinimizable=function(t){return e._setStyleMask(t,NSMiniaturizableWindowMask)},e.isMinimizable=function(){return t.styleMask()&NSMiniaturizableWindowMask},e.setMaximizable=function(e){t.standardWindowButton(NSWindowZoomButton)&&t.standardWindowButton(NSWindowZoomButton).setEnabled(e)},e.isMaximizable=function(){return t.standardWindowButton(NSWindowZoomButton)&&t.standardWindowButton(NSWindowZoomButton).isEnabled()},e.setFullScreenable=function(t){e._setCollectionBehavior(t,NSWindowCollectionBehaviorFullScreenPrimary),e._setCollectionBehavior(!t,NSWindowCollectionBehaviorFullScreenAuxiliary)},e.isFullScreenable=function(){return t.collectionBehavior()&NSWindowCollectionBehaviorFullScreenPrimary},e.setClosable=function(t){e._setStyleMask(t,NSClosableWindowMask)},e.isClosable=function(){return t.styleMask()&NSClosableWindowMask},e.setAlwaysOnTop=function(e,n,o){var i=NSNormalWindowLevel,r=CGWindowLevelForKey(kCGMaximumWindowLevelKey),a=CGWindowLevelForKey(kCGMinimumWindowLevelKey);e&&(i="normal"===n?NSNormalWindowLevel:"torn-off-menu"===n?NSTornOffMenuWindowLevel:"modal-panel"===n?NSModalPanelWindowLevel:"main-menu"===n?NSMainMenuWindowLevel:"status"===n?NSStatusWindowLevel:"pop-up-menu"===n?NSPopUpMenuWindowLevel:"screen-saver"===n?NSScreenSaverWindowLevel:"dock"===n?NSDockWindowLevel:NSFloatingWindowLevel);var s=i+(o||0);if(!(s>=a&&s<=r))throw new Error("relativeLevel must be between "+a+" and "+r);t.setLevel(s)},e.isAlwaysOnTop=function(){return t.level()!==NSNormalWindowLevel},e.moveTop=function(){return t.orderFrontRegardless()},e.center=function(){t.center()},e.setPosition=function(t,n,o){var i=e.getBounds(),r=NSScreen.screens().firstObject().frame();return i.origin.x=t,i.origin.y=Math.round(NSHeight(r)-n),e.setBounds(i,o)},e.getPosition=function(){var t=e.getBounds(),n=NSScreen.screens().firstObject().frame();return[t.origin.x,Math.round(NSHeight(n)-t.origin.y)]},e.setTitle=function(e){t.setTitle(e)},e.getTitle=function(){return String(t.title())};var r=0;e.flashFrame=function(e){e?r=NSApp.requestUserAttention(NSInformationalRequest):(NSApp.cancelUserAttentionRequest(r),r=0)},e.getNativeWindowHandle=function(){return t},e.getNativeWebViewHandle=function(){return o},e.loadURL=function(e){if(/^(?!https?|file).*\.html?$/.test(e)&&"undefined"!=typeof __command&&__command.pluginBundle()&&(e="file://"+__command.pluginBundle().urlForResourceNamed(e).path()),/^file:\/\/.*\.html?$/.test(e))return void o.loadFileURL_allowingReadAccessToURL(NSURL.fileURLWithPath(e),NSURL.fileURLWithPath("file:///"));const t=NSURL.URLWithString(e),n=NSURLRequest.requestWithURL(t);o.loadRequest(n)},e.reload=function(){o.reload()},e.setHasShadow=function(e){return t.setHasShadow(e)},e.hasShadow=function(){return t.hasShadow()},e.setOpacity=function(e){return t.setAlphaValue(e)},e.getOpacity=function(){return t.alphaValue()},e.setVisibleOnAllWorkspaces=function(t){return e._setCollectionBehavior(t,NSWindowCollectionBehaviorCanJoinAllSpaces)},e.isVisibleOnAllWorkspaces=function(){return t.collectionBehavior()&NSWindowCollectionBehaviorCanJoinAllSpaces},e.setIgnoreMouseEvents=function(e){return t.setIgnoresMouseEvents(e)},e.setContentProtection=function(e){t.setSharingType(e?NSWindowSharingNone:NSWindowSharingReadOnly)},e.setAutoHideCursor=function(e){t.setDisableAutoHideCursor(e)},e.setVibrancy=function(n){var o=e._vibrantView;if(!n){if(null==o)return;return o.removeFromSuperview(),void t.setVibrantView(null)}if(null==o){var i=t.contentView();o=NSVisualEffectView.alloc().initWithFrame(i.bounds()),e._vibrantView=o,o.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),o.setBlendingMode(NSVisualEffectBlendingModeBehindWindow),o.setState(NSVisualEffectStateActive),o.setFrame(i.bounds()),i.addSubview_positioned_relativeTo(o,NSWindowBelow,null)}var r=NSVisualEffectMaterialLight;"appearance-based"===n?r=NSVisualEffectMaterialAppearanceBased:"light"===n?r=NSVisualEffectMaterialLight:"dark"===n?r=NSVisualEffectMaterialDark:"titlebar"===n?r=NSVisualEffectMaterialTitlebar:"selection"===n?r=NSVisualEffectMaterialSelection:"menu"===n?r=NSVisualEffectMaterialMenu:"popover"===n?r=NSVisualEffectMaterialPopover:"sidebar"===n?r=NSVisualEffectMaterialSidebar:"medium-light"===n?r=NSVisualEffectMaterialMediumLight:"ultra-dark"===n&&(r=NSVisualEffectMaterialUltraDark),o.setMaterial(r)},e._setBackgroundColor=function(e){var i=function(e){if(!e||"#"!==e[0]){if(e&&e.class&&-1!==n.indexOf(String(e.class())))return e;throw new Error("Incorrect color formating. It should be an hex color: #RRGGBBAA")}var t,o=e.substr(1);if(3===o.length?o+="F":6===o.length&&(o+="FF"),4===o.length)for(var i=0;i<4;i+=1)t+=o[i],t+=o[i];else{if(8!==o.length)return NSColor.whiteColor();t=o}var r=parseInt(t.slice(0,2),16),a=parseInt(t.slice(2,4),16),s=parseInt(t.slice(4,6),16),c=parseInt(t.slice(6,8),16);return NSColor.colorWithSRGBRed_green_blue_alpha(r,a,s,c)}(e);o.isOpaque=!1,o.setBackgroundColor(NSColor.clearColor()),t.backgroundColor=i},e._invalidate=function(){t.flushWindow(),t.contentView().setNeedsDisplay(!0)},e._setStyleMask=function(n,o){var i=e.isMaximizable();n?t.setStyleMask(t.styleMask()|o):t.setStyleMask(t.styleMask()&~o),e.setMaximizable(i)},e._setCollectionBehavior=function(n,o){var i=e.isMaximizable();n?t.setCollectionBehavior(t.collectionBehavior()|o):t.setCollectionBehavior(t.collectionBehavior()&~o),e.setMaximizable(i)},e._showWindowButton=function(e){var n=t.standardWindowButton(e);n.superview().addSubview_positioned_relative(n,NSWindowAbove,null)}}},"./node_modules/sketch-module-web-view/lib/constants.js":
/*!**************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/constants.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t){e.exports={JS_BRIDGE:"__skpm_sketchBridge"}},"./node_modules/sketch-module-web-view/lib/dispatch-first-click.js":
/*!*************************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/dispatch-first-click.js ***!
  \*************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){var n=e.convertPoint_fromView(t.locationInWindow(),null);return"var el = document.elementFromPoint("+n.x+", "+(e.frame().size.height-n.y)+'); if (el && ["text", "textarea", "date", "datetime-local", "email", "number", "month", "password", "search", "tel", "time", "url", "week" ].indexOf(el.type) >= 0 && el.focus) {el.focus();} else if (el) {el.dispatchEvent(new Event("click", {bubbles: true}))}'}},"./node_modules/sketch-module-web-view/lib/fitSubview.js":
/*!***************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/fitSubview.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t){function n(e,t,n,o){n.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(t,e,NSLayoutRelationEqual,n,e,1,o))}e.exports=function(e,t,o){o=o||[],e.setTranslatesAutoresizingMaskIntoConstraints(!1),n(NSLayoutAttributeLeft,e,t,o[0]||0),n(NSLayoutAttributeTop,e,t,o[1]||0),n(NSLayoutAttributeRight,e,t,o[2]||0),n(NSLayoutAttributeBottom,e,t,o[3]||0)}},"./node_modules/sketch-module-web-view/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var o=n(/*! events */"events"),i=n(/*! ./browser-api */"./node_modules/sketch-module-web-view/lib/browser-api.js"),r=n(/*! ./webview-api */"./node_modules/sketch-module-web-view/lib/webview-api.js"),a=n(/*! ./fitSubview */"./node_modules/sketch-module-web-view/lib/fitSubview.js"),s=n(/*! ./dispatch-first-click */"./node_modules/sketch-module-web-view/lib/dispatch-first-click.js"),c=n(/*! ./inject-client-messaging */"./node_modules/sketch-module-web-view/lib/inject-client-messaging.js"),l=n(/*! ./set-delegates */"./node_modules/sketch-module-web-view/lib/set-delegates.js");function u(e){var t=(e=e||{}).identifier||NSUUID.UUID().UUIDString(),n=NSThread.mainThread().threadDictionary(),d=u.fromId(t);if(d)return d;var f=new o;if(f.id=t,e.modal&&!e.parent)throw new Error("A modal needs to have a parent.");var h=coscript.createFiber(),m=e.width||800,p=e.height||600,b=NSScreen.screens().firstObject().frame(),g=NSMakeRect(void 0!==e.x?e.x:Math.round((NSWidth(b)-m)/2),void 0!==e.y?e.y:Math.round((NSHeight(b)-p)/2),m,p);e.titleBarStyle&&"default"!==e.titleBarStyle&&(e.frame=!1);var S="textured"!==e.windowType,w=NSTitledWindowMask;!1!==e.minimizable&&(w|=NSMiniaturizableWindowMask),!1!==e.closable&&(w|=NSClosableWindowMask),!1!==e.resizable&&(w|=NSResizableWindowMask),S&&!e.transparent&&!1!==e.frame||(w|=NSTexturedBackgroundWindowMask);var v=NSPanel.alloc().initWithContentRect_styleMask_backing_defer(g,w,NSBackingStoreBuffered,!0),y=WKWebViewConfiguration.alloc().init(),_=WKWebView.alloc().initWithFrame_configuration(CGRectMake(0,0,e.width||800,e.height||600),y);if(c(_),_.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),i(f,v,_),r(f,v,_),l(f,v,_,e),"desktop"===e.windowType&&(v.setLevel(kCGDesktopWindowLevel-1),v.setCollectionBehavior(NSWindowCollectionBehaviorCanJoinAllSpaces|NSWindowCollectionBehaviorStationary|NSWindowCollectionBehaviorIgnoresCycle)),void 0===e.minWidth&&void 0===e.minHeight||f.setMinimumSize(e.minWidth||0,e.minHeight||0),void 0===e.maxWidth&&void 0===e.maxHeight||f.setMaximumSize(e.maxWidth||1e4,e.maxHeight||1e4),e.transparent||!1===e.frame){v.titlebarAppearsTransparent=!0,v.titleVisibility=NSWindowTitleHidden,v.setOpaque(0),v.isMovableByWindowBackground=!0;var N=NSToolbar.alloc().initWithIdentifier("titlebarStylingToolbar");N.setShowsBaselineSeparator(!1),v.setToolbar(N)}if("hiddenInset"===e.titleBarStyle){var C=NSToolbar.alloc().initWithIdentifier("titlebarStylingToolbar");C.setShowsBaselineSeparator(!1),v.setToolbar(C)}!1!==e.frame&&e.useContentSize||f.setSize(m,p),e.center&&f.center(),e.alwaysOnTop&&f.setAlwaysOnTop(!0),e.fullscreen&&f.setFullScreen(!0),f.setFullScreenable(!!e.fullscreenable);const k=e.title||("undefined"!=typeof __command&&__command.pluginBundle()?__command.pluginBundle().name():void 0);k&&f.setTitle(k);var W=e.backgroundColor;e.transparent&&(W=NSColor.clearColor()),!W&&!1===e.frame&&e.vibrancy&&(W=NSColor.clearColor()),f._setBackgroundColor(W||NSColor.windowBackgroundColor()),!1===e.hasShadow&&f.setHasShadow(!1),void 0!==e.opacity&&f.setOpacity(e.opacity),e.webPreferences=e.webPreferences||{},_.configuration().preferences().setValue_forKey(!1!==e.webPreferences.devTools,"developerExtrasEnabled"),_.configuration().preferences().setValue_forKey(!1!==e.webPreferences.devTools,"javaScriptEnabled"),_.configuration().preferences().setValue_forKey(!!e.webPreferences.plugins,"plugInsEnabled"),_.configuration().preferences().setValue_forKey(e.webPreferences.minimumFontSize||0,"minimumFontSize"),e.webPreferences.zoomFactor&&_.setMagnification(e.webPreferences.zoomFactor);var M=v.contentView();return!1!==e.frame?(_.setFrame(M.bounds()),M.addSubview(_)):(M.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),a(M,M.superview()),_.setFrame(M.bounds()),M.addSubview(_),v.standardWindowButton(NSWindowFullScreenButton)&&v.standardWindowButton(NSWindowFullScreenButton).setHidden(!0),e.titleBarStyle&&"default"!==e.titleBarStyle||(v.standardWindowButton(NSWindowZoomButton).setHidden(!0),v.standardWindowButton(NSWindowMiniaturizeButton).setHidden(!0),v.standardWindowButton(NSWindowCloseButton).setHidden(!0),v.standardWindowButton(NSWindowZoomButton).setEnabled(!1))),e.vibrancy&&f.setVibrancy(e.vibrancy),f.setMaximizable(!1!==e.maximizable),e.acceptsFirstMouse&&f.on("focus",function(e){e.type()===NSEventTypeLeftMouseDown&&f.webContents.executeJavaScript(s(_,e)).catch(()=>{})}),!1!==e.show&&f.show(),f.on("closed",function(){f._destroyed=!0,n.removeObjectForKey(t),h.cleanup()}),n[t]=v,h.onCleanup(function(){f._destroyed||f.destroy()}),f}u.fromId=function(e){var t=NSThread.mainThread().threadDictionary();if(t[e])return u.fromPanel(t[e],e)},u.fromPanel=function(e,t){var n=new o;if(n.id=t,!e||!e.contentView)throw new Error("needs to pass an NSPanel");var a=e.contentView().subviews()[0];if(!a)throw new Error("The NSPanel needs to have a webview");return i(n,e,a),r(n,e,a),n},e.exports=u},"./node_modules/sketch-module-web-view/lib/inject-client-messaging.js":
/*!****************************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/inject-client-messaging.js ***!
  \****************************************************************************/
/*! no static exports found */function(e,t,n){var o=n(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports=function(e){var t="window.originalPostMessage = window.postMessage;window.postMessage = function(actionName) {if (!actionName) {throw new Error('missing action name')}window.webkit.messageHandlers."+o.JS_BRIDGE+".postMessage(JSON.stringify([].slice.call(arguments)));}",n=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);e.configuration().userContentController().addUserScript(n)}},"./node_modules/sketch-module-web-view/lib/parseWebArguments.js":
/*!**********************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/parseWebArguments.js ***!
  \**********************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=null;try{t=JSON.parse(e[0])}catch(e){}return t&&t.constructor&&t.constructor===Array&&0!=t.length?t:null}},"./node_modules/sketch-module-web-view/lib/set-delegates.js":
/*!******************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/set-delegates.js ***!
  \******************************************************************/
/*! no static exports found */function(e,t,n){var o,i,r,a=n(/*! cocoascript-class */"./node_modules/cocoascript-class/lib/index.js").default,s=n(/*! ./parseWebArguments */"./node_modules/sketch-module-web-view/lib/parseWebArguments.js"),c=n(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports=function(e,t,n,l){o||(o=a({classname:"WindowDelegateClass",utils:null,panel:null,"windowDidResize:":function(){this.utils.emit("resize")},"windowDidMiniaturize:":function(){this.utils.emit("minimize")},"windowDidDeminiaturize:":function(){this.utils.emit("restore")},"windowDidEnterFullScreen:":function(){this.utils.emit("enter-full-screen")},"windowDidExitFullScreen:":function(){this.utils.emit("leave-full-screen")},"windowDidMove:":function(){this.utils.emit("move"),this.utils.emit("moved")},"windowShouldClose:":function(){var e=!0;return this.utils.emit("close",{get defaultPrevented(){return!e},preventDefault:function(){e=!1}}),e},"windowWillClose:":function(){this.utils.emit("closed")},"windowDidBecomeKey:":function(){this.utils.emit("focus",this.panel.currentEvent())},"windowDidResignKey:":function(){this.utils.emit("blur")}})),i||(i=a({classname:"NavigationDelegateClass",state:NSMutableDictionary.dictionaryWithDictionary({wasReady:0}),utils:null,"webView:didCommitNavigation:":function(e){this.utils.emit("will-navigate",{},String(String(e.url())))},"webView:didStartProvisionalNavigation:":function(){this.utils.emit("did-start-navigation"),this.utils.emit("did-start-loading")},"webView:didReceiveServerRedirectForProvisionalNavigation:":function(){this.utils.emit("did-get-redirect-request")},"webView:didFailProvisionalNavigation:withError:":function(e,t,n){this.utils.emit("did-fail-load",n)},"webView:didFinishNavigation:":function(){0==this.state.wasReady&&(this.utils.emitBrowserEvent("ready-to-show"),this.state.setObject_forKey(1,"wasReady")),this.utils.emit("did-navigate"),this.utils.emit("did-frame-navigate"),this.utils.emit("did-stop-loading"),this.utils.emit("did-finish-load"),this.utils.emit("did-frame-finish-load")},"webViewWebContentProcessDidTerminate:":function(){this.utils.emit("dom-ready")}})),r||(r=a({classname:"WebScriptHandlerClass",utils:null,"userContentController:didReceiveScriptMessage:":function(e,t){var n=JSON.parse(String(t.body())),o=this.utils.parseWebArguments([JSON.stringify(n)]);o&&this.utils.emit.apply(this,o)}}));var u=i.new();u.utils=NSDictionary.dictionaryWithDictionary({setTitle:e.setTitle.bind(e),emitBrowserEvent:e.emit.bind(e),emit:e.webContents.emit.bind(e.webContents)}),u.state=NSMutableDictionary.dictionaryWithDictionary({wasReady:0}),n.setNavigationDelegate(u);var d=r.new();d.utils=NSDictionary.dictionaryWithDictionary({emit:e.webContents.emit.bind(e.webContents),parseWebArguments:s}),n.configuration().userContentController().addScriptMessageHandler_name(d,c.JS_BRIDGE);var f,h=o.new(),m={emit:e.emit.bind(e)};l.modal&&("Document"===l.parent.type?(f=l.parent.sketchObject)&&"MSDocumentData"===String(f.class())&&(f=f.delegate()):f=l.parent,f&&"MSDocumentData"===String(f.class())&&(f=f.delegate()),m.parentWindow=f.windowForSheet());h.utils=NSDictionary.dictionaryWithDictionary(m),h.panel=t,t.setDelegate(h)}},"./node_modules/sketch-module-web-view/lib/webview-api.js":
/*!****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/webview-api.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t,n){(function(t){var o=n(/*! events */"events");e.exports=function(e,n,i){var r=new o;r.loadURL=e.loadURL,r.loadFile=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.downloadURL=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.getURL=function(){return String(i.url())},r.getTitle=function(){return String(i.title())},r.isDestroyed=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.focus=e.focus,r.isFocused=e.isFocused,r.isLoading=function(){return!!i.loading()},r.isLoadingMainFrame=function(){return!!i.loading()},r.isWaitingForResponse=function(){return!i.loading()},r.stop=function(){i.stopLoading()},r.reload=function(){i.reload()},r.reloadIgnoringCache=function(){i.reloadFromOrigin()},r.canGoBack=function(){return!!i.canGoBack()},r.canGoForward=function(){return!!i.canGoForward()},r.canGoToOffset=function(e){return!!i.backForwardList().itemAtIndex(e)},r.clearHistory=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.goBack=function(){i.goBack()},r.goForward=function(){i.goForward()},r.goToIndex=function(e){var t=i.backForwardList(),n=t.backList(),o=n.count();if(o>e)i.loadRequest(NSURLRequest.requestWithURL(n[e]));else{var r=t.forwardList();if(!(r.count()>e-o))throw new Error("Cannot go to index "+e);i.loadRequest(NSURLRequest.requestWithURL(r[e-o]))}},r.goToOffset=function(e){if(!r.canGoToOffset(e))throw new Error("Cannot go to offset "+e);i.loadRequest(NSURLRequest.requestWithURL(i.backForwardList().itemAtIndex(e)))},r.isCrashed=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.setUserAgent=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.getUserAgent=function(){const e=i.customUserAgent();return e?String(e):void 0},r.insertCSS=function(e){var t="var style = document.createElement('style'); style.innerHTML = "+e.replace(/"/,'\\"')+"; document.head.appendChild(style);",n=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);i.configuration().userContentController().addUserScript(n)},r.insertJS=function(e){var t=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(e,0,!0);i.configuration().userContentController().addUserScript(t)},r.executeJavaScript=function(e,n,o){"function"==typeof n&&(o=n,n=!1);var r=coscript.createFiber();return new t(function(t,n){i.evaluateJavaScript_completionHandler(e,__mocha__.createBlock_function('v28@?0@8c16@"NSError"20',function(e,i){var a=i&&i.class&&("NSException"===String(i.class())||"NSError"===String(i.class()));if(o){try{o(a?i:null,e)}catch(e){}t()}else a?n(i):t(e);r.cleanup()}))})},r.setIgnoreMenuShortcuts=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.setAudioMuted=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.isAudioMuted=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.setZoomFactor=function(e){i.setMagnification_centeredAtPoint(e,CGPointMake(0,0))},r.getZoomFactor=function(e){e(Number(i.magnification()))},r.setZoomLevel=function(e){r.setZoomFactor(Math.pow(1.2,e))},r.getZoomLevel=function(e){e(Math.log(Number(i.magnification()))/Math.log(1.2))},r.setVisualZoomLevelLimits=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.setLayoutZoomLevelLimits=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.send=function(){const e="window.postMessage({isSketchMessage: true,origin: '"+String(__command.identifier())+"',args: "+JSON.stringify([].slice.call(arguments))+'}, "*")';i.evaluateJavaScript_completionHandler(e,null)},r.getNativeWebview=function(){return i},e.webContents=r}}).call(this,n(/*! ./node_modules/promise-polyfill/lib/index.js */"./node_modules/promise-polyfill/lib/index.js"))},"./node_modules/sketch-polyfill-fetch/lib/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/sketch-polyfill-fetch/lib/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){(function(t){var o,i,r=n(/*! cocoascript-class */"./node_modules/cocoascript-class/lib/index.js").default;try{o=n(/*! buffer */"buffer").Buffer}catch(e){}e.exports=function(e,n){var a;n=n||{};try{a=coscript.createFiber()}catch(e){coscript.shouldKeepAround=!0}return new t(function(s,c){var l=NSURL.alloc().initWithString(e),u=NSMutableURLRequest.requestWithURL(l);if(u.setHTTPMethod(n.method||"GET"),Object.keys(n.headers||{}).forEach(function(e){u.setValue_forHTTPHeaderField(n.headers[e],e)}),n.body){var d;if("string"==typeof n.body)d=NSString.alloc().initWithString(n.body).dataUsingEncoding(NSUTF8StringEncoding);else if(o&&o.isBuffer(n.body))d=n.body.toNSData();else if(n.body.isKindOfClass&&1==n.body.isKindOfClass(NSData))d=n.body;else if(n.body._isFormData){var f=n.body._boundary;(d=n.body._data).appendData(NSString.alloc().initWithString("--"+f+"--\r\n").dataUsingEncoding(NSUTF8StringEncoding)),u.setValue_forHTTPHeaderField("multipart/form-data; boundary="+f,"Content-Type")}else d=NSJSONSerialization.dataWithJSONObject_options_error(n.body,NSJSONWritingPrettyPrinted,void 0),u.setValue_forHTTPHeaderField(""+d.length(),"Content-Length");u.setHTTPBody(d)}if(n.cache)switch(n.cache){case"reload":case"no-cache":case"no-store":u.setCachePolicy(1);case"force-cache":u.setCachePolicy(2);case"only-if-cached":u.setCachePolicy(3)}n.credentials||u.setHTTPShouldHandleCookies(!1),i||(i=r({classname:"FetchPolyfillDelegate",data:null,httpResponse:null,fiber:null,callbacks:null,"connectionDidFinishLoading:":function(e){this.callbacks.succeed(this.httpResponse,this.data),this.fiber?this.fiber.cleanup():coscript.shouldKeepAround=!1},"connection:didReceiveResponse:":function(e,t){this.httpResponse=t,this.data=NSMutableData.alloc().init()},"connection:didFailWithError:":function(e,t){this.callbacks.fail(t),this.fiber?this.fiber.cleanup():coscript.shouldKeepAround=!1},"connection:didReceiveData:":function(e,t){this.data.appendData(t)}}));var h=!1,m=i.new();m.callbacks=NSDictionary.dictionaryWithDictionary({succeed:function(e,n){h=!0,s(function e(n,i){for(var r,a=[],s=[],c={},l=0;l<n.allHeaderFields().allKeys().length;l++){var u=n.allHeaderFields().allKeys()[l].toLowerCase(),d=String(n.allHeaderFields()[u]);a.push(u),s.push([u,d]),r=c[u],c[u]=r?r+","+d:d}return{ok:1==(n.statusCode()/200|0),status:Number(n.statusCode()),statusText:NSHTTPURLResponse.localizedStringForStatusCode(n.statusCode()),useFinalURL:!0,url:String(n.URL().absoluteString()),clone:e.bind(this,n,i),text:function(){return new t(function(e,t){const n=NSString.alloc().initWithData_encoding(i,NSASCIIStringEncoding);n?e(n):t(new Error("Couldn't parse body"))})},json:function(){return new t(function(e,t){var n=NSString.alloc().initWithData_encoding(i,NSUTF8StringEncoding);n?e(JSON.parse(n)):t(new Error("Could not parse JSON because it is not valid UTF-8 data."))})},blob:function(){return t.resolve(i)},arrayBuffer:function(){return t.resolve(o.from(i))},headers:{keys:function(){return a},entries:function(){return s},get:function(e){return c[e.toLowerCase()]},has:function(e){return e.toLowerCase()in c}}}}(e,n))},fail:function(e){h=!0,c(e)}}),m.fiber=a;var p=NSURLConnection.alloc().initWithRequest_delegate(u,m);a&&a.onCleanup(function(){h||p.cancel()})})}}).call(this,n(/*! ./node_modules/promise-polyfill/lib/index.js */"./node_modules/promise-polyfill/lib/index.js"))},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./resources/webview.html":
/*!********************************!*\
  !*** ./resources/webview.html ***!
  \********************************/
/*! no static exports found */function(e,t){e.exports="file://"+context.plugin.urlForResourceNamed("_webpack_resources/f2cde1725c43911646644534056239b6.html").path()},"./src/github_requests.js":
/*!********************************!*\
  !*** ./src/github_requests.js ***!
  \********************************/
/*! exports provided: get_file */function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"get_file",function(){return r});var o=n(/*! js-base64 */"./node_modules/js-base64/base64.js").Base64,i=n(/*! sketch/settings */"sketch/settings");function r(t,n,r,a,s){e("https://api.github.com/repos/".concat(t,"/").concat(n,"/contents/").concat(r),{method:"GET",headers:{Authorization:"Basic "+o.encode(i.settingForKey("git-username")+":"+i.settingForKey("git-password")),Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return a(JSON.parse(o.decode(e.content)))}).catch(function(e){return s("There was a problem with ".concat(t,"/").concat(n,"/").concat(r))})}}.call(this,n(/*! ./node_modules/sketch-polyfill-fetch/lib/index.js */"./node_modules/sketch-polyfill-fetch/lib/index.js"))},"./src/miss_modal.js":
/*!***************************!*\
  !*** ./src/miss_modal.js ***!
  \***************************/
/*! exports provided: handle_misses */function(e,t,n){"use strict";n.r(t),n.d(t,"handle_misses",function(){return r});var o=n(/*! sketch-module-web-view */"./node_modules/sketch-module-web-view/lib/index.js"),i=n.n(o);n(/*! sketch/ui */"sketch/ui");function r(e,t){console.log("#############         creating missing modal      ######################");var o=new i.a({identifier:"unique.id",width:240,height:180,show:!1});o.once("ready-to-show",function(){o.show()});var r=o.webContents;r.on("did-finish-load",function(){var e;for(var n in t[0])e=t[1][n],r.executeJavaScript("addElement('".concat(e,"', ").concat(n,");")).catch(console.error)}),r.on("selected",function(n){console.log("Centering on layer "+n);var o=t[0][n];e.centerOnLayer(o.sketchObject),console.log("Centered"),console.log("deselected"),o.select=!0,console.log("selected")}),r.on("nativeLog",function(e){console.log(e)}),o.loadURL(n(/*! ../resources/webview.html */"./resources/webview.html"))}},"./src/puller.js":
/*!***********************!*\
  !*** ./src/puller.js ***!
  \***********************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),function(e){var o=n(/*! sketch */"sketch"),i=n.n(o),r=n(/*! ./settings */"./src/settings.js"),a=n(/*! ./github_requests */"./src/github_requests.js"),s=n(/*! ./miss_modal */"./src/miss_modal.js");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(/*! sketch/settings */"sketch/settings");function u(e){return e}t.default=function(t){console.log("################################################################################"),console.log("#############            Start                           #######################"),console.log("################################################################################");var n=i.a.getSelectedDocument();Object(r.check_settings_exist)(t);var o=l.settingForKey("files")||[];0==o.length&&(Object(r.check_settings_are_right)(t,"There are no files specified"),o=l.settingForKey("files")||[]),console.log("#############         retrieving files      ######################"),console.log(o),e.all(o.map(function(t,n,o){return console.log(t),new e(function(e,n){Object(a.get_file)(t[0],t[1],t[2],function(n){console.log("#### ".concat(t," content ####")),console.log(n),e(n)},function(e){n(e)})})})).then(function(e){var o={};e.forEach(function(e,t,n){o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){c(e,t,n[t])})}return e}({},o,e)}),console.log("#############           Languages            #######################"),console.log(Object.keys(o));var r=function(e,t){var n=COSAlertWindow.new();n.setIcon(NSImage.alloc().initByReferencingFile(e.plugin.urlForResourceNamed("icon.png").path())),n.setMessageText("Process"),n.addButtonWithTitle("selection"),n.addButtonWithTitle("the whole document"),n.addButtonWithTitle("cancel");var o=NSView.alloc().initWithFrame(NSMakeRect(0,0,300,140)),i=NSButtonCell.alloc().init();i.setButtonType(NSRadioButton);var r=NSMatrix.alloc().initWithFrame_mode_prototype_numberOfRows_numberOfColumns(NSMakeRect(0,20,400,50),NSRadioModeMatrix,i,1,t.length);r.setCellSize(CGSizeMake(100,25));var a=r.cells();for(var s in t)a.objectAtIndex(s).setTitle(t[s]);o.addSubview(r),n.addAccessoryView(o);var c=n.runModal(),l=t[r.cells().indexOfObject(r.selectedCell())];return console.log("Modal res: button clicked = ".concat(c,", langauge = ").concat(l)),[c,l]}(t,Object.keys(o)),a=[];switch(r[0]){case 1e3:a=n.selectedLayers.layers;break;case 1001:var l;for(var d in n.pages)l=n.pages[d],a=a.concat(l.layers)}if(console.log("".concat(a.length," top layers")),a.length>0){console.log("Now processing the layer");var f=function e(t,n){var o,r,a=[],s=[];for(var c in t)if(o=t[c],console.log("    Processing: ".concat(o.name)),console.log(" Which is a text: ".concat(o.sketchObject.class()==MSTextLayer,", group: ").concat(o instanceof i.a.Group,", symbolinstance: ").concat(o instanceof i.a.SymbolInstance)),o instanceof i.a.Text&&o.name.startsWith("$"))r=o.name.substr(1),console.log("## checking string existance for ".concat(r," ")),n.hasOwnProperty(r)?(console.log("value: ".concat(n[r]," ")),o.sketchObject.setStringValue(u(n[r]))):(console.log("#### ".concat(r,"'s value is missing")),a.push(o),s.push(r),console.log("#### after"),console.log(a.length),console.log(s.length));else if(o instanceof i.a.SymbolInstance&&o.name.startsWith("$")){var l;for(var c in o.overrides)l=o.overrides[c],console.log("Override (property: ".concat(l.property,", value: ").concat(l.value," propertyName: ").concat(l.affectedLayer.name,")")),"stringValue"==l.property&&l.affectedLayer.name.startsWith("$")&&(r=o.name.substr(1)+"_"+l.affectedLayer.name.substr(1),console.log("## checking string existance for ".concat(r," ")),n.hasOwnProperty(r)?(console.log("it's value is ".concat(n[r]," ")),symbolInstance.setOverrideValue(l,u(n[r]))):(console.log("#### ".concat(r,"'s value is missing")),a.push(l),s.push(r),console.log(a),console.log(s)))}else if(o instanceof i.a.Group){var d=e(o.layers);a=a.concat(d[0]),s=s.concat(d[1])}return[a,s]}(a,o[r[1]]);Object(s.handle_misses)(n,f)}else console.log("No layers to process")}).catch(function(e){console.log(e)})}}.call(this,n(/*! ./node_modules/promise-polyfill/lib/index.js */"./node_modules/promise-polyfill/lib/index.js"))},"./src/settings.js":
/*!*************************!*\
  !*** ./src/settings.js ***!
  \*************************/
/*! exports provided: check_settings_are_right, set_settings, check_settings_exist, default */function(e,t,n){"use strict";n.r(t),n.d(t,"check_settings_are_right",function(){return c}),n.d(t,"set_settings",function(){return l}),n.d(t,"check_settings_exist",function(){return u});n(/*! sketch */"sketch");var o=n(/*! sketch/settings */"sketch/settings"),i=function e(t){var n=COSAlertWindow.new();switch(n.setIcon(NSImage.alloc().initByReferencingFile(t.plugin.urlForResourceNamed("icon.png").path())),n.setMessageText("Configure Pull Strings git access and files"),n.addButtonWithTitle("done"),n.addButtonWithTitle("username/password"),n.addButtonWithTitle("remove files"),n.addButtonWithTitle("add file"),n.runModal()){case 1e3:break;case 1001:r(t),e(t);break;case 1002:s(t),e(t);break;case 1003:a(t),e(t)}},r=function(e){var t=COSAlertWindow.new();t.setIcon(NSImage.alloc().initByReferencingFile(e.plugin.urlForResourceNamed("icon.png").path())),t.setMessageText("Configure Git Access"),t.addButtonWithTitle("save"),t.addButtonWithTitle("cancel");var n=NSView.alloc().initWithFrame(NSMakeRect(0,0,400,140));t.addAccessoryView(n);var i=NSTextField.alloc().initWithFrame(NSMakeRect(-1,75,190,20));i.setStringValue("username"),i.setSelectable(!1),i.setEditable(!1),i.setBezeled(!1),i.setDrawsBackground(!1);var r=NSTextField.alloc().initWithFrame(NSMakeRect(140,75,190,20));r.setStringValue("password"),r.setSelectable(!1),r.setEditable(!1),r.setBezeled(!1),r.setDrawsBackground(!1);var a=NSTextField.alloc().initWithFrame(NSMakeRect(0,55,130,20)),s=NSTextField.alloc().initWithFrame(NSMakeRect(140,55,130,20));n.addSubview(a),n.addSubview(i),n.addSubview(s),n.addSubview(r),1e3==t.runModal()&&(o.setSettingForKey("git-username",a.stringValue()),o.setSettingForKey("git-password",s.stringValue()),o.setSettingForKey("settings-exist",!0))},a=function(e){var t=COSAlertWindow.new();t.setIcon(NSImage.alloc().initByReferencingFile(e.plugin.urlForResourceNamed("icon.png").path())),t.setMessageText("Add file"),t.addButtonWithTitle("save"),t.addButtonWithTitle("cancel");var n=NSView.alloc().initWithFrame(NSMakeRect(0,0,400,140));t.addAccessoryView(n);var i=NSTextField.alloc().initWithFrame(NSMakeRect(0,102,390,40));i.setStringValue("When you visit the file on github.com the path looks like this\n https://github.com/{owner}/{repo}/blob/master/{path}"),i.setSelectable(!1),i.setEditable(!1),i.setBezeled(!1),i.setDrawsBackground(!1);var r=NSTextField.alloc().initWithFrame(NSMakeRect(-1,75,190,20));r.setStringValue("file owner"),r.setSelectable(!1),r.setEditable(!1),r.setBezeled(!1),r.setDrawsBackground(!1);var a=NSTextField.alloc().initWithFrame(NSMakeRect(0,55,130,20)),s=NSTextField.alloc().initWithFrame(NSMakeRect(140,75,190,20));s.setStringValue("repository"),s.setSelectable(!1),s.setEditable(!1),s.setBezeled(!1),s.setDrawsBackground(!1);var c=NSTextField.alloc().initWithFrame(NSMakeRect(140,55,130,20)),l=NSTextField.alloc().initWithFrame(NSMakeRect(0,35,190,20));l.setStringValue("path"),l.setSelectable(!1),l.setEditable(!1),l.setBezeled(!1),l.setDrawsBackground(!1);var u=NSTextField.alloc().initWithFrame(NSMakeRect(0,15,400,20));if(a.setNextKeyView_(c),c.setNextKeyView(u),n.addSubview(i),n.addSubview(a),n.addSubview(r),n.addSubview(c),n.addSubview(s),n.addSubview(u),n.addSubview(l),1e3==t.runModal()){console.log("###### Adding File ######"),console.log("".concat(a.stringValue(),":").concat(c.stringValue(),":").concat(u.stringValue()));var d=o.settingForKey("files")||[];d.push([a.stringValue(),c.stringValue(),u.stringValue()]),o.setSettingForKey("files",d)}},s=function(e){var t=COSAlertWindow.new();t.setIcon(NSImage.alloc().initByReferencingFile(e.plugin.urlForResourceNamed("icon.png").path())),t.setMessageText("Chose files to keep"),t.addButtonWithTitle("save"),t.addButtonWithTitle("cancel");var n=o.settingForKey("files")||[],i=140+30*n.length,r=NSView.alloc().initWithFrame(NSMakeRect(0,0,300,i));t.addAccessoryView(r);for(var a,s,c=n.length,l=[],u=0;u<c;u++)a=n[u],(s=NSButton.alloc().initWithFrame(NSMakeRect(0,i-38-20*u,300,20))).setButtonType(NSSwitchButton),s.setBezelStyle(0),s.setTitle("owner:".concat(a[0],", repo:").concat(a[1],", path:").concat(a[2])),s.setState(NSOnState),l.push(s),r.addSubview(s);if(1e3==t.runModal()){var d=[];console.log("###### keeping Files ######");for(u=0;u<c;u++)1==l[u].stringValue()&&d.push(n[u]);console.log(d),o.setSettingForKey("files",d)}};function c(e,t){var n=COSAlertWindow.new();n.setIcon(NSImage.alloc().initByReferencingFile(e.plugin.urlForResourceNamed("icon.png").path())),n.setMessageText(t),n.addButtonWithTitle("ok"),n.addButtonWithTitle("settings");1001==n.runModal()&&l(e)}function l(e){return o.settingForKey("git-username")||r(e),i(e),!0}function u(e){return!!o.settingForKey("settings-exist")||l(e)}t.default=function(e){l(e)}},buffer:
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("buffer")},events:
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("events")},sketch:
/*!*************************!*\
  !*** external "sketch" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("sketch")},"sketch/settings":
/*!**********************************!*\
  !*** external "sketch/settings" ***!
  \**********************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/settings")},"sketch/ui":
/*!****************************!*\
  !*** external "sketch/ui" ***!
  \****************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/ui")}});"default"===key&&"function"==typeof exports?exports(context):exports[key](context)}that.onRun=__skpm_run.bind(this,"default");